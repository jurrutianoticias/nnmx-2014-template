(function(){var a;a=jQuery;a.fn.flexNav=function(n){var g,c,i,f,h,e,k,j,b,m,l,d;b=a.extend({animationSpeed:250,transitionOpacity:true,buttonSelector:".menu-button",hoverIntent:false,hoverIntentTimeout:150},n);
g=a(this);g.addClass("with-js");if(b.transitionOpacity===true){g.addClass("opacity");}g.find("li").each(function(){if(a(this).has("ul").length){return a(this).addClass("item-with-ul").find("ul").hide();
}});c=g.find(">li");f=c.length;e=100/f;h=e+"%";if(g.data("breakpoint")){i=g.data("breakpoint");}m=function(){if(g.hasClass("lg-screen")===true){if(b.transitionOpacity===true){return a(this).find(">ul").addClass("show").stop(true,true).animate({height:["toggle","swing"],opacity:"toggle"},b.animationSpeed);
}else{return a(this).find(">ul").addClass("show").stop(true,true).animate({height:["toggle","swing"]},b.animationSpeed);}}};k=function(){if(g.hasClass("lg-screen")===true&&a(this).find(">ul").hasClass("show")===true){if(b.transitionOpacity===true){return a(this).find(">ul").removeClass("show").stop(true,true).animate({height:["toggle","swing"],opacity:"toggle"},b.animationSpeed);
}else{return a(this).find(">ul").removeClass("show").stop(true,true).animate({height:["toggle","swing"]},b.animationSpeed);}}};j=function(){var o;if(a(window).width()<=i){g.removeClass("lg-screen").addClass("sm-screen");
c.css("width","100%");o=b.buttonSelector+", "+b.buttonSelector+" .touch-button";a(o).removeClass("active");return a(".one-page li a").on("click",function(){return g.removeClass("show");
});}else{if(a(window).width()>i){g.removeClass("sm-screen").addClass("lg-screen");c.css("width",h);g.removeClass("show");if(b.hoverIntent===true){return a(".item-with-ul").hoverIntent({over:m,out:k,timeout:b.hoverIntentTimeout});
}else{if(b.hoverIntent===false){return a(".item-with-ul").on("mouseenter",m).on("mouseleave",k);}}}}};a(b.buttonSelector).data("navEl",g);d=".item-with-ul, "+b.buttonSelector;
a(d).append('<span class="touch-button"><i class="navicon">&#9660;</i></span>');l=b.buttonSelector+", "+b.buttonSelector+" .touch-button";a(l).on("click",function(r){var o,q,p;
a(l).toggleClass("active");r.preventDefault();r.stopPropagation();p=b.buttonSelector;o=a(this).is(p)?a(this):a(this).parent(p);q=o.data("navEl");return q.toggleClass("show");
});a(".touch-button").on("click",function(q){var p,o;p=a(this).parent(".item-with-ul").find(">ul");o=a(this).parent(".item-with-ul").find(">span.touch-button");
if(g.hasClass("lg-screen")===true){a(this).parent(".item-with-ul").siblings().find("ul.show").removeClass("show").hide();}if(p.hasClass("show")===true){p.removeClass("show").slideUp(b.animationSpeed);
return o.removeClass("active");}else{if(p.hasClass("show")===false){p.addClass("show").slideDown(b.animationSpeed);return o.addClass("active");}}});g.find(".item-with-ul *").focus(function(){a(this).parent(".item-with-ul").parent().find(".open").not(this).removeClass("open").hide();
return a(this).parent(".item-with-ul").find(">ul").addClass("open").show();});j();return a(window).on("resize",j);};}).call(this);